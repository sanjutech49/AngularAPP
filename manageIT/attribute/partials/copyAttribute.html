<div id="CopyAttribute" class="modal fade attribute-container" role="dialog" data-backdrop="static">
    <div class="modal-dialog model-width800">
        <div class="modal-content add-sub-object-main">
            <form name="copyAttributeForm" class="form-horizontal" ng-init="setFormScope(this,'copyAttributeForm')" role="form" novalidate>
                <div class="modal-header">
                    <button type="button" class="close" data-toggle="modal" data-target="#ErrorScreen"  ng-click="openErrorScreen(copyAttributeForm.$dirty,'Copy');">&times;</button>
                    <h4><b>{{ action }} Copy Attribute</b></h4>
                    <error-control attribute-scope="errorAttribute"></error-control>
                </div>
                <div class="modal-body">
                    <div class="attribute-scroll-wrap">
                        <basic-properties attribute-scope="copyAttribute" derive-identifier="deriveIdentifier"
                                          is-singularly-uniques="isSingularlyUniques" unique-group="uniqueGroup"
                                          unique-group-check="uniqueGroupCheck" derive-identifier-from-id="deriveIdentifierFromId"
                                          multiples-values-checked-changed="multiplesValuesCheckedChanged" clear-unique-group-values="clearUniqueGroupValues"></basic-properties>

                        <div class="row">
                            <div class="col-sm-12 marginTop20">
                                <div class="attribute-model-title">Copy Attribute Properties</div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-xs-3">
                                <div class="col-xs-12">
                                    <label class="control-label">Vary copy by<span class="mandatory">*</span></label>
                                </div>
                                <div class="col-xs-12 marginTop5"><div class="settings-bottom-devider"></div></div>

                                <div class="col-xs-12" ng-repeat="contextType in AllContextTypes">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" name="{{contextType.pluralName}}" value="{{contextType.contentTypeId}}" ng-model="contextType.selected" ng-checked="contextType.selected">
                                                {{contextType.pluralName}}
                                        </label>
                                    </div>
                                   
                                </div>

                            </div>
                            <div class="col-xs-9">

                                <div class="row">
                                    <div class="col-xs-4">
                                        <label class="control-label align-left">Define Copy Fields</label>
                                    </div>

                                    <div class="col-xs-2">
                                        <label class="control-label align-left" for="addField">Add Field</label>
                                    </div>

                                    <div class="col-xs-5">
                                        <input type="text" name="addField" class="input-medium form-control" ng-model="copyAttribute.copyFieldName" />
                                    </div>

                                    <div class="col-xs-1 row imageroles">
                                        <button class="btn btn-default" data-toggle="modal" data-target="#copyTextAttribute" ng-click="clearCopyAttributeFieldValues()">
                                            <i class="fa fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="col-xs-12 marginTop5"><div class="settings-bottom-devider"></div></div>

                                    <div class="col-xs-12 marginTop10">
                                        <div class="cor-border min-height150 noborder-table" >
                                            <table class="table table-hover table-condensed" >
                                                <tr data-ng-repeat="copyFields in copyAttribute.copyFieldDetails">
                                                    <td>{{copyFields.name}}</td>
                                                    <td class="align-right table-links">
                                                        <a href="#" data-toggle="modal" data-target="#copyTextAttribute" data-ng-click="editCopyAttributeField(copyFields)" ><i class="fa fa-pencil"></i></a>
                                                        <a href="#" ng-click="confirmClick('Are you sure you want to delete?','Confirm','Delete','Cancel') && deleteCopyAttributeField(copyFields)" confirm-click><i class="fa fa-times"></i></a>
                                                    </td>
                                                </tr>
                                                </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
                <div class="sub-object-footer">
                    <div class="modal-footer">
                        <button ng-click="resetErrorDirective(errorAttribute);openErrorScreen(copyAttributeForm.$dirty,'Copy');" class="btn btn-grey" type="button" aria-hidden="true"><i class="fa fa-times"></i> Discard</button>
                        <button ng-click="saveCopyAttribute(copyAttribute)" ng-disabled="copyAttributeForm.$invalid" class="btn btn-primary" type="button" aria-hidden="true"><i class="fa fa-pencil"></i> Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- start popup modal window -->
<div id="copyTextAttribute" class="modal fade attribute-container" role="dialog" data-backdrop="static">
    <div class="modal-dialog model-width800">
        <div class="modal-content add-sub-object-main">
            <form name="" class="form-horizontal" role="form" novalidate>
                <div class="modal-header">
                    <button type="button" class="close" data-dissmiss="modal">&times;</button>
                    <h4><b>{{textAttribute.name}} - Edit Copy Field</b></h4>
                    <!--Place the error directive here-->
                    <error-control attribute-scope="errorAttribute"></error-control>
                </div>

                <div class="modal-body">
                    <div class="attribute-scroll-wrap">
                        <basic-properties attribute-scope="textAttribute" derive-identifier="deriveIdentifier"
                                          is-singularly-uniques="isSingularlyUniques" unique-group="uniqueGroup"
                                          unique-group-check="uniqueGroupCheck"
                                          multiples-values-checked-changed="multiplesValuesCheckedChanged"
                                          derive-identifier-from-id="deriveIdentifierFromId"
                                          clear-unique-group-values="clearUniqueGroupValues"></basic-properties>
                        <div class="row">
                            <div class="col-xs-12 marginTop20">
                                <div class="attribute-model-title">Field Properties</div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12">

                                <div class="attribute">
                                    <div class="form-horizontal">

                                        <div class="form-group row">
                                            <div class="col-xs-2">
                                                <label class="control-label text-left" for="">Format<span class="mandatory">*</span></label>
                                            </div>
                                            <div class="col-xs-4 row">
                                                <select class="form-control" data-ng-model="textAttribute.format" data-ng-options="option.key as option.value for option in lineFormatCopy" required></select>
                                            </div>

                                            <div class="col-xs-3">
                                                <label class="control-label" for="">Field Width <span class="mandatory">*</span></label>
                                            </div>
                                            <div class="col-xs-3 row">

                                                <input type="text" name="fieldWidth" ng-model="textAttribute.fieldWidth" maxlength="4" class="input-medium form-control" required
                                                       only-number0999 />

                                            </div>
                                            <div class="col-xs-1 row">

                                                <span class="text-attribute-px-text">&nbsp;px</span>

                                            </div>

                                        </div>

                                        <div class="form-group row">
                                            <div class="col-xs-2">
                                                <label class="control-label text-left" for="">Minimum Length</label>
                                            </div>
                                            <div class="col-xs-1 row">
                                                <input type="text" name="attributeMinLenVal" ng-model="textAttribute.minimumLength" only-number0999 maxlength="4" class="formcontrl-padding form-control" />
                                            </div>
                                            <div class="col-xs-3">
                                                <select class="form-control" data-ng-model="textAttribute.minWordType" data-ng-options="option.key as option.value for option in wordType"></select>
                                            </div>

                                            <div class="col-xs-3">
                                                <label class="control-label text-left" for="">Maximum Length</label>
                                            </div>
                                            <div class="col-xs-1 row">
                                                <input type="text" name="maxLenthValue" ng-model="textAttribute.maximumLength" only-number0999 maxlength="4" class="formcontrl-padding form-control" />
                                            </div>
                                            <div class="col-xs-2">
                                                <select class="form-control" data-ng-model="textAttribute.maxWordType" data-ng-options="option.key as option.value for option in wordType"></select>
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12">

                                <div class="attribute">
                                    <div class="form-horizontal">
                                        <div class="list-selection-devider marginTop15"></div>

                                        <div class="form-group row">
                                            <div class="col-xs-2">
                                                <label class="control-label text-left" for="">Default Value</label>
                                            </div>
                                            <div class="col-xs-3 row">
                                                <input class="form-control" type="text" name="defaultValue" ng-model="textAttribute.defaultValue" onblur="this.value = this.value.replace(/\s/g, '');" />
                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>
                        <!--<div class="row">
                            <div class="col-xs-12">
                                <div class="font-bold color-red" ng-show="textAttributeForm.name.$error.required && textAttributeForm.name.$dirty">Name is required</div>
                                <div class="font-bold color-red" ng-show="textAttributeForm.identifier.$error.required && textAttributeForm.identifier.$dirty">Identifier is required</div>
                                <div class="font-bold color-red" ng-show="textAttributeForm.format.$error.required && textAttributeForm.format.$dirty">Format is required</div>
                                <div class="font-bold color-red" ng-show="textAttributeForm.fieldWidth.$error.required && textAttributeForm.fieldWidth.$dirty">Field Width is required</div>
                                <div class="font-bold color-red" ng-show="errorsText.length > 0" ng-repeat="error in errorsText">{{error}}</div>
                            </div>
                        </div>-->
                    </div>

                </div>
                <div class="sub-object-footer">
                    <div class="modal-footer">
                        <button ng-click="resetErrorDirective(errorAttribute);clearTextAttributeFields();" data-dissmiss="modal" class="btn btn-grey" type="button" aria-hidden="true"><i class="fa fa-times"></i> Discard</button>
                        <button ng-click="saveCopyTextAttribute(textAttribute)" ng-disabled="textAttributeForm.$invalid" class="btn btn-primary" type="button" aria-hidden="true"><i class="fa fa-pencil"></i> Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- end popup modal window -->
